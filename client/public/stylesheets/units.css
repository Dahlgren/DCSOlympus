:root {
        /*  Generic marker settings  */
        --unit-centre-x: calc( var( --unit-width ) / 2 );
        --unit-centre-y: calc( var( --unit-height ) / 2 );
    
        --unit-hotgroup-height: 10px;
        --unit-hotgroup-width: var( --unit-hotgroup-height );
    
    
        /*  Air units' marker settings  */
        --unit-air-label-x: calc( var( --unit-centre-x ) - ( var( --unit-air-width ) / 2 ) + ( var( --unit-stroke-width ) / 2 ) );
        --unit-air-label-y: calc( var( --unit-centre-y ) - ( var( --unit-air-height ) / 2 ) + ( var( --unit-stroke-width ) / 2 ) );
}


.unit {
    align-items: center;
    display:flex;
    justify-content: center;
    position:relative;
}

.unit:not( .no-function ) {
    cursor:pointer;
}

[data-hide-aircraft] #map-container .unit-air,
[data-hide-ground] #map-container .unit-ground,
[data-hide-sam] #map-container .unit-sam,
[data-hide-threat] #map-container .unit-threat,
[data-hide-naval] #map-container .unit-naval,
[data-hide-blue] #map-container .unit[data-coalition="blue"],
[data-hide-red] #map-container .unit[data-coalition="red"],
[data-hide-neutral] #map-container .unit[data-coalition="neutral"] {
    display:none;
}


.unit .unit-selected-spotlight {
    background-color: var( --unit-spotlight-fill );
    border-radius: 50%;
    display:none;
    padding: var( --unit-spotlight-radius );
    position: absolute;
    z-index:1;
}


.unit .unit-vvi {
    align-self: center;
    background:var( --secondary-gunmetal-grey );
    display:flex;
    justify-self: center;
    transform-origin: bottom;
    translate:0 -50%;
    padding-bottom: calc( ( var( --unit-air-width ) / 2 ) + var( --unit-stroke-width ) );
    position:absolute;
    width: var( --unit-air-vvi-width );
}


.unit .unit-hotgroup {
    align-content: center;
    background-color: black;
    border-radius: var( --border-radius-xs );
    display:none;
    height: var( --unit-hotgroup-height );
    justify-content: center;
    position:absolute;
    transform: rotate( -45deg );
    translate:0 -275%;
    width: var( --unit-hotgroup-width );
    z-index: 5;
}

.unit .unit-hotgroup-id {
    background-color: transparent;
    color:white;
    font-size: 9px;
    font-weight: bolder;
    transform:rotate( 45deg );
}

.unit .unit-marker-border {
    background-color: white;
    border-radius: var( --border-radius-sm );
    display:none;
    height: calc( var( --unit-air-height ) + ( var( --unit-label-border-width ) * 2 ) );
    position:absolute;
    width: calc( var( --unit-air-width ) + ( var( --unit-label-border-width ) * 2 ) );
    z-index:2;
}

.unit:hover .unit-marker-border,
.unit[data-is-selected] .unit-marker-border {
    display:block;
}


/******************************
    Marker
******************************/

.unit .unit-marker {
    background-color: transparent;
    background-repeat: no-repeat;
    background-size: cover;
    position:absolute;
    transform-origin: center;
    z-index:3;
}



/*  Air  */

.unit-air .unit-marker {
    background-image: var( --unit-air-marker-neutral-url );
    height: var( --unit-air-marker-height );
    width: var( --unit-air-marker-width );
}

.unit-air:hover  .unit-marker, .unit-air[data-is-selected] .unit-marker {
    background-image: var( --unit-air-marker-neutral-hover-url );
}


.unit-air[data-coalition="blue"] .unit-marker {
    background-image: var( --unit-air-marker-blue-url );
}

.unit-air[data-coalition="blue"]:hover .unit-marker, .unit-air[data-coalition="blue"][data-is-selected] .unit-marker {
    background-image: var( --unit-air-marker-blue-hover-url );
}


.unit-air[data-coalition="red"] .unit-marker {
    background-image: var( --unit-air-marker-red-url );
}

.unit-air[data-coalition="red"]:hover .unit-marker, .unit-air[data-coalition="red"][data-is-selected] .unit-marker {
    background-image: var( --unit-air-marker-red-hover-url );
}




/*  Ground vehicles (not SAMs)  */

.unit-ground .unit-marker {
    background-image: var( --unit-ground-marker-neutral-url );
    height: var( --unit-ground-marker-height );
    width: var( --unit-ground-marker-width );
}


.unit-ground[data-coalition="blue"] .unit-marker {
    background-image: var( --unit-ground-marker-blue-url );
}


.unit-ground[data-coalition="red"] .unit-marker {
    background-image: var( --unit-ground-marker-red-url );
}


/*  SAMs  */

.unit-sam .unit-marker {
    background-image: var( --unit-sam-marker-neutral-url );
    height: var( --unit-sam-marker-height );
    width: var( --unit-sam-marker-width );
}


.unit-sam[data-coalition="blue"] .unit-marker {
    background-image: var( --unit-sam-marker-blue-url );
}


.unit-sam[data-coalition="red"] .unit-marker {
    background-image: var( --unit-sam-marker-red-url );
}


/*  Naval  */

.unit-naval .unit-marker {
    background-image: var( --unit-naval-marker-neutral-url );
    height: var( --unit-naval-marker-height );
    width: var( --unit-naval-marker-width );
}


.unit-naval[data-coalition="blue"] .unit-marker {
    background-image: var( --unit-naval-marker-blue-url );
}


.unit-naval[data-coalition="red"] .unit-marker {
    background-image: var( --unit-naval-marker-red-url );
}


/*  Building  */

.unit-building .unit-marker {
    background-image: var( --unit-building-marker-neutral-url );
    height: var( --unit-building-marker-height );
    width: var( --unit-building-marker-width );
}


.unit-building[data-coalition="blue"] .unit-marker {
    background-image: var( --unit-building-marker-blue-url );
}


.unit-building[data-coalition="red"] .unit-marker {
    background-image: var( --unit-building-marker-red-url );
}



.unit .unit-short-label {
    color: var( --secondary-gunmetal-grey );
    font-size: var(--unit-font-size);
    font-weight: var(--unit-font-weight);
    position: absolute;
    z-index:10;
}

.unit-sam .unit-short-label {
    translate:0 50%;
}

.unit-naval .unit-short-label {
    translate:0 -50%;
}


.unit .unit-fuel {
    background:white;
    border: var( --unit-air-fuel-border-width ) solid var( --secondary-dark-steel );
    border-radius: var( --border-radius-sm );
    display:none;
    height: var( --unit-air-fuel-height );
    position: absolute;
    translate:var( --unit-air-fuel-x ) var( --unit-air-fuel-y );
    width: var( --unit-air-fuel-width );
    z-index: 5;
}

.unit .unit-fuel-level {
    background-color: var( --secondary-light-grey );
    height:100%;
    width:100%;
}


.unit .unit-ammo {
    column-gap: var( --unit-air-ammo-spacing );
    display:none;
    height:fit-content;
    position:absolute;
    translate:var( --unit-air-ammo-x ) var( --unit-air-ammo-y );
    width:fit-content;
}

.unit .unit-ammo > * {
    background-color: white;
    border: var( --unit-air-ammo-border-width ) solid var( --secondary-dark-steel );
    border-radius: 50%;
    padding: var( --unit-air-ammo-radius );
}


.unit .unit-summary {
    column-gap: 6px;
    color:white;
    display:flex;
    flex-wrap: wrap;
    font-size:11px;
    font-weight: bold;
    justify-content: right;
    line-height: 12px;
    position:absolute;
    row-gap: 1px;
    text-shadow:
        -1px -1px 0 #000,  
        1px -1px 0 #000,
        -1px  1px 0 #000,
        1px  1px 0 #000;
    translate: -60px 0;
    width:fit-content;
    z-index:20;
}

[data-hide-labels] .unit .unit-summary {
    display:none;
}

.unit .unit-summary > * {
    padding:1px;
}

.unit .unit-summary .unit-callsign {
    color:white;
    overflow: hidden;
    text-align: right;
    transform-origin: right;
    white-space: nowrap;
    width: 80px;
}

.unit .unit-summary .unit-callsign:hover {
    direction: rtl;
    overflow:visible;
}



.unit[data-pilot="ai"]:hover .unit-ammo,
.unit[data-pilot="ai"]:hover .unit-fuel {
    display:flex;
}

.unit[data-is-in-hotgroup] .unit-hotgroup,
.unit[data-pilot="ai"][data-is-selected] .unit-ammo,
.unit[data-pilot="ai"][data-is-selected] .unit-fuel,
.unit[data-is-selected] .unit-selected-spotlight {
    display:flex;
}

.unit[data-has-fox-1] .unit-ammo-fox-1,
.unit[data-has-fox-2] .unit-ammo-fox-2,
.unit[data-has-fox-3] .unit-ammo-fox-3,
.unit[data-has-other-ammo] .unit-ammo-other {
    background-color: var( --secondary-gunmetal-grey );
}




.unit[data-coalition="blue"][data-is-selected] .unit-short-label {
    color: var( --secondary-blue-text );
}

.unit[data-coalition="blue"] .unit-fuel-level,
.unit[data-coalition="blue"][data-has-fox-1] .unit-ammo-fox-1,
.unit[data-coalition="blue"][data-has-fox-2] .unit-ammo-fox-2,
.unit[data-coalition="blue"][data-has-fox-3] .unit-ammo-fox-3,
.unit[data-coalition="blue"][data-has-other-ammo] .unit-ammo-other {
    background-color: var( --primary-blue );
}

.unit[data-coalition="blue"] .unit-vvi {
    background-color: var( --secondary-blue-outline );
}


.unit[data-coalition="red"][data-is-selected] .unit-short-label {
    color: var( --secondary-red-text );
}

.unit[data-coalition="red"] .unit-fuel-level,
.unit[data-coalition="red"][data-has-fox-1] .unit-ammo-fox-1,
.unit[data-coalition="red"][data-has-fox-2] .unit-ammo-fox-2,
.unit[data-coalition="red"][data-has-fox-3] .unit-ammo-fox-3,
.unit[data-coalition="red"][data-has-other-ammo] .unit-ammo-other {
    background-color: var( --primary-red );
}

.unit[data-coalition="blue"] .unit-vvi {
    background-color: var( --secondary-red-outline );
}



@keyframes pulse {
    50% {
      opacity: 0;
    }
}

.unit[data-pilot="ai"][data-has-low-fuel] .unit-fuel {
    animation: pulse 1.5s linear infinite;
}


.unit[data-is-selected] rect.unit-marker {
    fill:white;
}


.unit .unit-status {
    background-repeat: no-repeat;
    position:absolute;
    height:var( --unit-air-status-rtb-height );
    translate: calc( 0px - ( var( --unit-air-width ) / 2 ) ) calc( 0px - ( var( --unit-air-height ) / 2 ) );
    transform-origin: center;
    width:var( --unit-air-status-rtb-width );
    z-index: 10;
}

.unit[data-status="rtb"] .unit-status {
    background-image: var( --unit-air-status-rtb-neutral-url );
    height:var( --unit-air-status-rtb-height );
    width:var( --unit-air-status-rtb-width );
}

.unit[data-status="rtb"][data-coalition="blue"] .unit-status {
    background-image: var( --unit-air-status-rtb-blue-url );
}

.unit[data-status="rtb"][data-coalition="red"] .unit-status {
    background-image: var( --unit-air-status-rtb-red-url );
}




.unit[data-status="hold"] .unit-status {
    background-image: var( --unit-air-status-hold-neutral-url );
    height:var( --unit-air-status-hold-height );
    width:var( --unit-air-status-hold-width );
}

.unit[data-status="hold"][data-coalition="blue"] .unit-status {
    background-image: var( --unit-air-status-hold-blue-url );
}

.unit[data-status="hold"][data-coalition="red"] .unit-status {
    background-image: var( --unit-air-status-hold-red-url );
}


/***  DEAD  ***/
.unit-air[ data-is-dead ] .unit-marker {
    background-image: var( --unit-air-marker-neutral-dead-url );
    background-position: 50% 50%;
    background-size: auto 32px;
}

.unit-air[ data-is-dead ][data-coalition="blue"] .unit-marker {
    background-image: var( --unit-air-marker-blue-dead-url );
}

.unit-air[ data-is-dead ][data-coalition="red"] .unit-marker {
    background-image: var( --unit-air-marker-red-dead-url );
}


.unit-air[ data-is-dead ] .unit-selected-spotlight,
.unit-air[ data-is-dead ] .unit-short-label,
.unit-air[ data-is-dead ] .unit-vvi,
.unit-air[ data-is-dead ] .unit-hotgroup,
.unit-air[ data-is-dead ] .unit-hotgroup-id,
.unit-air[ data-is-dead ] .unit-status,
.unit-air[ data-is-dead ] .unit-fuel,
.unit-air[ data-is-dead ] .unit-ammo,
.unit-air[ data-is-dead ]:hover .unit-fuel,
.unit-air[ data-is-dead ]:hover .unit-ammo
{
    display:none;
}


.unit-air[ data-is-dead ] .unit-summary > * {
    display:none;
}

.unit-air[ data-is-dead ] .unit-summary .unit-callsign {
    display:block;
}